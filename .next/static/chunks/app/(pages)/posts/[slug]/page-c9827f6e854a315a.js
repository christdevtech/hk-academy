(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[265],{1555:function(n,e,t){Promise.resolve().then(t.t.bind(t,4724,23)),Promise.resolve().then(t.t.bind(t,3388,23)),Promise.resolve().then(t.t.bind(t,5443,23)),Promise.resolve().then(t.bind(t,4112)),Promise.resolve().then(t.bind(t,4780)),Promise.resolve().then(t.bind(t,2320)),Promise.resolve().then(t.t.bind(t,9419,23)),Promise.resolve().then(t.t.bind(t,1649,23)),Promise.resolve().then(t.t.bind(t,9768,23)),Promise.resolve().then(t.t.bind(t,89,23)),Promise.resolve().then(t.t.bind(t,758,23)),Promise.resolve().then(t.t.bind(t,1416,23)),Promise.resolve().then(t.t.bind(t,7973,23)),Promise.resolve().then(t.t.bind(t,7793,23)),Promise.resolve().then(t.bind(t,9582)),Promise.resolve().then(t.bind(t,7979)),Promise.resolve().then(t.bind(t,2546)),Promise.resolve().then(t.t.bind(t,5275,23)),Promise.resolve().then(t.t.bind(t,8301,23)),Promise.resolve().then(t.t.bind(t,3818,23))},2546:function(n,e,t){"use strict";t.r(e),t.d(e,{PremiumContent:function(){return K}});var o=t(7437),r=t(2265),i=t(1396),l=t.n(i);let s="categories {\n  title\n  id\n  breadcrumbs {\n    id\n    label\n  }\n}",a=function(){let{disableAppearance:n,disableLabel:e}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return"{\n  ".concat(e?"":"label","\n  ").concat(n?"":"appearance","\n  type\n  newTab\n  url\n  reference {\n    relationTo\n    value {\n      ...on Page {\n        slug\n      }\n    }\n  }\n}")},c="\nmimeType\nfilename\nwidth\nheight\nalt\ncaption\n",d="media {\n  ".concat(c,"\n}"),m="meta {\n  title\n  image {\n    ".concat(c,"\n  }\n  description\n}"),u="\n...on Cta {\n  blockType\n  invertBackground\n  richText\n  links {\n    link ".concat(a(),"\n  }\n}\n"),h="\n...on Content {\n  blockType\n  invertBackground\n  columns {\n    size\n    richText\n    enableLink\n    link ".concat(a(),"\n  }\n}\n"),v="\n...on MediaBlock {\n  blockType\n  invertBackground\n  position\n  ".concat(d,"\n}\n"),p="\n...on Archive {\n  blockType\n  introContent\n  populateBy\n  relationTo\n  ".concat(s,"\n  limit\n  selectedDocs {\n    relationTo\n    value {\n      ...on Post {\n        id\n        slug\n        title\n        ").concat(m,"\n      }\n      ...on Project {\n        id\n        slug\n        title\n        ").concat(m,"\n      }\n    }\n  }\n  populatedDocs {\n    relationTo\n    value {\n      ...on Post {\n        id\n        slug\n        title\n        ").concat(s,"\n        ").concat(m,"\n      }\n      ...on Project {\n        id\n        slug\n        title\n        ").concat(s,"\n        ").concat(m,"\n      }\n    }\n  }\n  populatedDocsTotal\n}\n");"\n  query Post($slug: String, $draft: Boolean) {\n    Posts(where: { slug: { equals: $slug }}, limit: 1, draft: $draft) {\n      docs {\n        id\n        title\n        categories {\n          title\n        }\n        createdAt\n        publishedAt\n        populatedAuthors {\n          id\n          name\n        }\n        hero {\n          type\n          richText\n          links {\n            link ".concat(a(),"\n          }\n          ").concat(d,"\n        }\n        layout {\n          ").concat(h,"\n          ").concat(u,"\n          ").concat(h,"\n          ").concat(v,"\n          ").concat(p,"\n        }\n        enablePremiumContent\n        relatedPosts {\n          id\n          slug\n          title\n          ").concat(m,"\n        }\n        ").concat(m,"\n      }\n    }\n  }\n");let g="\n  query Post($slug: String, $draft: Boolean) {\n    Posts(where: { slug: { equals: $slug }}, limit: 1, draft: $draft) {\n      docs {\n        premiumContent {\n          ".concat(u,"\n          ").concat(h,"\n          ").concat(v,"\n          ").concat(p,"\n        }\n      }\n    }\n  }\n");var j=t(7992),x=t(2320),_=t(1120),b=t(7263),P=t(758),f=t.n(P),k=t(5060),T=t(5275),y=t.n(T);let N=n=>{let{top:e="medium",bottom:t="medium",className:r,children:i}=n;return(0,o.jsx)("div",{className:[r,y()["top-".concat(e)],y()["bottom-".concat(t)]].filter(Boolean).join(" "),children:i})};var B=t(5443),w=t.n(B),C=t(4112),A=t(89),H=t.n(A),$=t(8153),D=t(9768),S=t.n(D),Z=t(3477),q=t(1416),L=t.n(q);let E=n=>null==n?void 0:n.replace(/([a-z])([A-Z])/g,"$1-$2").replace(/\s+/g,"-").toLowerCase();var F=t(7793),O=t.n(F);let R=n=>{let{id:e,className:t,children:r,invert:i}=n;return(0,o.jsx)("div",{id:e,className:[i&&O().invert,t].filter(Boolean).join(" "),children:r})},G={cta:n=>{let{links:e,richText:t,invertBackground:r}=n;return(0,o.jsx)(_.T,{children:(0,o.jsx)(N,{className:[w().callToAction,r&&w().invert].filter(Boolean).join(" "),children:(0,o.jsxs)("div",{className:w().wrap,children:[(0,o.jsx)("div",{className:w().content,children:(0,o.jsx)(b.Z,{className:w().richText,content:t})}),(0,o.jsx)("div",{className:w().linkGroup,children:(e||[]).map((n,e)=>{let{link:t}=n;return(0,o.jsx)(k.g,{...t,invert:r},e)})})]})})})},content:n=>{let{columns:e}=n;return(0,o.jsx)(_.T,{className:H().content,children:(0,o.jsx)("div",{className:H().grid,children:e&&e.length>0&&e.map((n,e)=>{let{enableLink:t,richText:r,link:i,size:l}=n;return(0,o.jsxs)("div",{className:[H().column,H()["column--".concat(l)]].join(" "),children:[(0,o.jsx)(b.Z,{content:r}),t&&(0,o.jsx)(k.g,{className:H().link,...i})]},e)})})})},mediaBlock:n=>{let e;let{media:t,position:r="default",staticImage:i}=n;return t&&"object"==typeof t&&(e=t.caption),(0,o.jsxs)("div",{className:S().mediaBlock,children:["fullscreen"===r&&(0,o.jsx)("div",{className:S().fullscreen,children:(0,o.jsx)($.p,{resource:t,src:i})}),"default"===r&&(0,o.jsx)(_.T,{children:(0,o.jsx)($.p,{resource:t,src:i})}),e&&(0,o.jsx)(_.T,{className:S().caption,children:(0,o.jsx)(b.Z,{content:e})})]})},archive:n=>{let{introContent:e,id:t,relationTo:r,populateBy:i,limit:l,populatedDocs:s,populatedDocsTotal:a,selectedDocs:c,categories:d}=n;return(0,o.jsxs)("div",{id:"block-".concat(t),className:f().archiveBlock,children:[e&&(0,o.jsx)(_.T,{className:f().introContent,children:(0,o.jsx)(b.Z,{content:e})}),(0,o.jsx)(x.CollectionArchive,{populateBy:i,relationTo:r,populatedDocs:s,populatedDocsTotal:a,selectedDocs:c,categories:d,limit:l,sort:"-publishedAt"})]})},relatedPosts:n=>{let{introContent:e,docs:t,relationTo:r}=n;return(0,o.jsxs)("div",{className:L().relatedPosts,children:[e&&(0,o.jsx)(_.T,{className:L().introContent,children:(0,o.jsx)(b.Z,{content:e})}),(0,o.jsx)(_.T,{children:(0,o.jsx)("div",{className:L().grid,children:null==t?void 0:t.map((n,e)=>"string"==typeof n?null:(0,o.jsx)("div",{className:[L().column,2===t.length&&L()["cols-half"],t.length>=3&&L()["cols-thirds"]].filter(Boolean).join(" "),children:(0,o.jsx)(Z.Z,{relationTo:r,doc:n,showCategories:!0})},e))})})]})},comments:C.CommentsBlock},Y=n=>{let{disableTopPadding:e,blocks:t}=n,i=t&&Array.isArray(t)&&t.length>0;return i?(0,o.jsx)(r.Fragment,{children:t.map((n,r)=>{let{blockName:i,blockType:l}=n;if(l&&l in G){let s=G[l],a="invertBackground"in n&&"cta"!==l&&n.invertBackground,c=t[r-1],d=c&&"invertBackground"in c&&(null==c?void 0:c.invertBackground),m="large",u="large";if(c&&!!a==!!d&&(m="none"),r===t.length-1&&(u="large"),e&&0===r&&(m="none"),s)return(0,o.jsx)(R,{invert:a,children:(0,o.jsx)(N,{top:m,bottom:u,children:(0,o.jsx)(s,{id:E(i),...n})})},r)}return null})}):null};var z=t(1999),U=t.n(z);let X=n=>{let e=Array.from(Array(n.number||1).keys());return(0,o.jsx)("div",{className:U().loading,children:e.map((n,e)=>(0,o.jsx)("div",{className:U().shimmer},e))})};var I=t(1752);let K=n=>{let{postSlug:e,disableTopPadding:t}=n,{user:i}=(0,j.a)(),[s,a]=r.useState(!1),[c,d]=r.useState(),m=r.useRef(!1),u=r.useRef(!1);return((0,r.useEffect)(()=>{if(!i||m.current||u.current)return;m.current=!0,u.current=!0;let n=Date.now(),t=async()=>{a(!0);try{var t,o;let r=await (null===(o=fetch("".concat("https://hkacademy.net","/api/graphql"),{method:"POST",credentials:"include",headers:{"Content-Type":"application/json"},body:JSON.stringify({query:g,variables:{slug:e}})}))||void 0===o?void 0:null===(t=o.then(n=>n.json()))||void 0===t?void 0:t.then(n=>{var e,t;return null==n?void 0:null===(t=n.data)||void 0===t?void 0:null===(e=t.Posts.docs[0])||void 0===e?void 0:e.premiumContent}));r&&d(r);let i=Date.now();i-n<1e3&&await new Promise(e=>setTimeout(e,500-(i-n))),a(!1)}catch(n){console.error(n),a(!1)}};t(),u.current=!1},[i,e]),void 0===i)?null:null===i?(0,o.jsx)(_.T,{children:(0,o.jsx)(N,{bottom:"large",top:"none",children:(0,o.jsx)(I.v,{message:(0,o.jsxs)(o.Fragment,{children:["This content is gated behind authentication. You must be ",(0,o.jsx)(l(),{href:"/login?redirect=".concat(encodeURIComponent(window.location.pathname)),children:"logged in"})," to view this content."]})})})}):s?(0,o.jsx)(_.T,{children:(0,o.jsx)(N,{bottom:"large",top:"none",children:(0,o.jsx)(X,{})})}):c&&0!==c.length?(0,o.jsx)(Y,{blocks:c,disableTopPadding:t}):(0,o.jsx)(_.T,{children:(0,o.jsx)(N,{bottom:"large",top:"none",children:(0,o.jsx)(I.v,{message:"Log in to unlock this premium content."})})})}},1999:function(n){n.exports={loading:"LoadingShimmer_loading__sK7Rg",shimmer:"LoadingShimmer_shimmer__YtrFI"},n.exports.__checksum="358a41a4d388"},3818:function(n){n.exports={leader:"PostHero_leader__dXb5O",postHero:"PostHero_postHero__n2saY",content:"PostHero_content__AqcUA",title:"PostHero_title___txbY",warning:"PostHero_warning__AFn65",meta:"PostHero_meta__yXA9E",description:"PostHero_description__yk3mG",media:"PostHero_media__azoTa",mediaWrapper:"PostHero_mediaWrapper__yXeZK",image:"PostHero_image__lH8GL",placeholder:"PostHero_placeholder__F_Gvi",caption:"PostHero_caption__UCHRf"},n.exports.__checksum="14147eaff52a"}},function(n){n.O(0,[815,724,571,691,154,743,971,864,744],function(){return n(n.s=1555)}),_N_E=n.O()}]);